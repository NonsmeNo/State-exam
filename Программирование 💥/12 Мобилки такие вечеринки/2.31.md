# Типы фрагментов. Жизненный цикл фрагмента.

Вот на картинке есть 2 экрана - 2 активности. В 1 активности только фрагмент A, а во 2 активности и А, и B => фрагменты, это такие частички, которые можно создать независимо от активности, и потом поместить на активность.
![[Pasted image 20250525122038.png]]
<span style="background:#fff88f">Фрагменты</span> (fragments) в Android — это компоненты, которые могут быть встроены в активность (Activity). Они позволяют разделять интерфейс активности на независимые, переиспользуемые части. 
Фрагмент **не является самостоятельным экраном**, как Activity.
Он всегда существует **внутри активности** и <u>зависит от её жизненного цикла</u>.
- Фрагмент создаётся независимо, как класс.
- Но работать он начинает только внутри активности.

<span style="background:rgba(240, 200, 0, 0.2)">Пример:</span> (Про приложение "новости")
Один фрагмент показывает список новостей.
Другой фрагмент - подробности выбранной новости.
- В телефоне — эти фрагменты поочерёдно загружаются в одной активности.
- В планшете — оба фрагмента отображаются одновременно на одном экране.
![[Pasted image 20250525123139.png]]

###### <font color="#6425d0">Типы фрагментов</font>
1. <font color="#31859b">Фрагменты одного кадра</font>
	Используются на мобильных телефонах. **Показывают только один фрагмент на экране**.
	
2. <font color="#31859b">Фрагменты списка</font>
	Это фрагменты, в которых **отображается список**.
    Например: список товаров, сообщений или новостей.

3. <font color="#31859b">Диалоговые фрагменты</font>
	небольшое, отдельное окно, которое появляется поверх основного экрана 
	Например: «Вы уверены, что хотите удалить это фото?» 


<font color="#de7802">Транзакция фрагментов</font> - это **набор действий**, которые позволяют **управлять фрагментами внутри активности**: добавлять, удалять, заменять или скрывать фрагменты.
- **add** — добавить новый фрагмент
- **replace** — заменить один фрагмент другим
- **remove** — удалить фрагмент
- **hide/show** — скрыть или показать фрагмент

##### <span style="background:rgba(205, 244, 105, 0.55)">Жизненный цикл фрагмента</span>

Фрагменты Android имеют собственный жизненный цикл. 
<font color="#a5a5a5">(но его состояние полностью зависит от активности. Когда активность запускается, ставится на паузу или уничтожается, фрагменты тоже проходят соответствующие стадии своего жизненного цикла.)</font>

![[Pasted image 20250525121723.png]]

<font color="#ff0000">Запомнить 11 методов ЖЦ фрагмента!!!</font>
<font color="#a5a5a5">Я не стала параметры каждого метода расписывать, потому что это нереально запомнить</font>

1. `onAttach(Activity)`
	 прикрепление фрагмента к активности

2. `onCreate()`
	инициализация фрагмента. Здесь подготавливаются важные данные для фрагмента — например, переменные и объекты, не связанные с интерфейсом, которые должны сохраняться при пересоздании (например, при повороте экрана).

3. `onCreateView()`
	вызывается для создания интерфейса (View), то есть компонентов внутри фрагмента (все кнопки, тексты, картинки, которые пользователь видит на экране)

4. `onActivityCreated()`
	Этот метод вызывается после того, как отработает <u>метод активности </u>`onCreate()`, после него фрагмент может обращаться к компонентам активности

5. `onStart()`
	Фрагмент становится **видимым пользователю на экране**, но пользователь с ним еще не может взаимодействовать. При этом сразу же вызывается и `onStart()` активности, к которой прикреплён фрагмент.

6. `onResume()`
	Фрагмент **активен и готов к работе** — пользователь может нажимать кнопки и взаимодействовать.

7. `onPause()`
	Фрагмент останавливается, когда например, появляется другой фрагмент сверху. Здесь останавливается то, что не нужно делать, пока пользователь не на этом фрагменте (например, анимации, звук).

8. `onStop()`
	Фрагмент **становится полностью невидимым** для пользователя.  
	Например, другая активность полностью перекрыла текущую, или фрагмент убрали с экрана.

9. `onDestroyView()`
	Интерфейс (View) фрагмента **уничтожается** — то есть кнопки, тексты и другие элементы удаляются из памяти.
	Хотя сам фрагмент будет ещё **оставаться в памяти** и быть видимым в логике.
	Если активность с этим интерфейсом будет еще использоваться, то будет вызван `onCreateView()` для повторного создания интерфейса.
	Иначе `onDestroy()` для уничтожения фрагмента.

10. `onDestroy()`
	Фрагмент **полностью уничтожается**. Здесь освобождаются все оставшиеся ресурсы, после этого фрагмент уже не будет использоваться.

11. `onDetach()`
	Фрагмент **отсоединяется от активности** — больше не связан с ней.



